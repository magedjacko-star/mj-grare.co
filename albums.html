<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MJ Albums</title>

  <style>
    :root{
      --red:#e50914;
      --bg:#000;
      --panel:#0b0b0b;
      --line:#1f1f1f;
      --muted:#b3b3b3;
    }
    *{ box-sizing:border-box; }

    body{
      margin:0;
      background:var(--bg);
      color:#fff;
      font-family: Arial, sans-serif;
    }

    .layout{
      display:flex;
      min-height:100vh;
    }

    .sidebar{
      width:220px;
      background:#070707;
      border-right:1px solid rgba(255,255,255,.08);
      padding:18px 14px;
      position:sticky;
      top:0;
      height:100vh;
    }
    .sidebar a{
      display:block;
      padding:10px 12px;
      border-radius:10px;
      color:#fff;
      text-decoration:none;
      opacity:.9;
    }
    .sidebar a:hover{ background:rgba(255,255,255,.06); }

    .submenu{
      margin:10px 0 14px;
      padding:10px;
      background:rgba(255,255,255,.03);
      border:1px solid rgba(255,255,255,.06);
      border-radius:12px;
    }
    .submenu a{ padding:9px 10px; }

    .content{
      flex:1;
      padding:20px;
      text-align:center;
    }

    h1{
      color:var(--red);
      margin:18px 0 18px;
      font-size:38px;
      text-shadow:0 0 10px rgba(255,0,0,.55);
      text-transform:capitalize;
    }

    .albums{
      max-width:1200px;
      margin:0 auto;
      display:grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap:16px;
    }

    .card{
      position:relative;
      background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      border-radius:14px;
      overflow:hidden;
      text-decoration:none;
      color:#fff;
      transition:.2s;
      box-shadow:0 0 18px rgba(255,255,255,.08);
      display:block;
    }
    .card:hover{
      transform:scale(1.02);
      box-shadow:0 0 22px rgba(229,9,20,.35);
      border-color:rgba(229,9,20,.35);
    }

    .cover{
      width:100%;
      aspect-ratio: 1/1;
      object-fit:cover;
      display:block;
      background:#111;
    }

    .name{
      padding:12px 10px;
      font-weight:700;
      font-size:18px;
      text-transform:capitalize;
    }

    .backHomeWrap{
      max-width:1200px;
      margin:26px auto 0;
      padding:0 6px;
      display:flex;
      justify-content:center;
    }

    .backHome{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:12px 18px;
      border-radius:14px;
      text-decoration:none;
      color:#fff;
      font-weight:700;
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
      border:1px solid rgba(255,255,255,.14);
      box-shadow:0 10px 22px rgba(0,0,0,.55);
      transition:transform .15s, filter .15s, border-color .15s;
    }
    .backHome .icon{
      width:28px;
      height:28px;
      display:grid;
      place-items:center;
      border-radius:10px;
      background:rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.10);
      font-size:16px;
      line-height:1;
    }
    .backHome:hover{
      transform:translateY(-1px);
      filter:brightness(1.05);
      border-color:rgba(255,255,255,.22);
    }

    #adminBar{
      position:fixed;
      bottom:24px;
      right:24px;
      display:none;
      gap:10px;
      z-index:1000;
    }
    .adminBtn{
      background:var(--red);
      color:#fff;
      border:none;
      padding:14px 18px;
      border-radius:12px;
      font-weight:700;
      cursor:pointer;
      box-shadow:0 0 18px rgba(229,9,20,.6);
    }
    .adminBtn.secondary{
      background:#333;
      box-shadow:0 0 12px rgba(255,255,255,.12);
    }
    .adminBtn:hover{ filter:brightness(0.95); }

    .delBadge{
      position:absolute;
      top:10px;
      right:10px;
      background:rgba(229,9,20,.95);
      color:#fff;
      border:none;
      border-radius:10px;
      padding:8px 10px;
      font-weight:700;
      cursor:pointer;
      display:none;
      z-index:5;
      box-shadow:0 0 14px rgba(229,9,20,.55);
    }
    body.admin .delBadge{ display:block; }

    #uploadModal{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.85);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:999;
      padding:18px;
    }
    .modal-box{
      background:#111;
      padding:22px;
      border-radius:14px;
      width:min(360px, 92vw);
      text-align:center;
      border:1px solid rgba(255,255,255,.08);
      box-shadow:0 0 22px rgba(255,255,255,.10);
    }
    .modal-box input{
      width:100%;
      margin:8px 0;
      padding:10px;
      border-radius:8px;
      border:none;
      outline:none;
    }
    .modal-box button{
      width:100%;
      padding:10px;
      margin-top:8px;
      border:none;
      border-radius:8px;
      font-weight:700;
      cursor:pointer;
    }
    .modal-box .save{ background:var(--red); color:#fff; }
    .modal-box .cancel{ background:#444; color:#fff; }

    .hint{
      margin:10px auto 0;
      max-width:360px;
      color:rgba(255,255,255,.65);
      font-size:12px;
      line-height:1.5;
      text-align:left;
    }

    /* ‚úÖ ÿßŸÑŸÖŸàÿ®ÿßŸäŸÑ: ÿÆŸÑŸäŸá Ÿäÿ∏Ÿáÿ± ÿ®ÿØŸÑ ŸÖÿß Ÿäÿ≥ÿ™ÿÆÿ®Ÿâ */
    @media (max-width: 860px){
      .sidebar{
        position:static;
        width:100%;
        height:auto;
        border-right:none;
        border-bottom:1px solid rgba(255,255,255,.08);
      }
      .layout{ flex-direction:column; }
      .content{ padding:18px; }
    }
  </style>
</head>

<body>

<div class="layout">
  <aside class="sidebar">
    <div class="submenu">
      <a href="albums.html">photo albums</a>
      <a href="MusicVideos/index.html">Music Videos</a>
      <a href="Concerts/index.html">Concerts</a>
      <a href="Movies/index.html">Movies</a>
      <a href="Interviews/index.html">Interviews</a>
    </div>
    <a href="news.html">News</a>
    <a href="about.html">About</a>
  </aside>

  <main class="content">
    <h1>michael jackson albums</h1>

    <div class="albums">

      <a class="card" data-static="1" href="Off%20The%20Wall/index.html">
        <button class="delBadge" type="button">üóëÔ∏è Delete</button>
        <img class="cover" src="Off%20The%20Wall/cover.jpg" alt="Off The Wall">
        <div class="name">Off The Wall</div>
      </a>

      <a class="card" data-static="1" href="Thriller/index.html">
        <button class="delBadge" type="button">üóëÔ∏è Delete</button>
        <img class="cover" src="Thriller/cover.jpg" alt="Thriller">
        <div class="name">Thriller</div>
      </a>

      <!-- ‚úÖ BAD -->
      <a class="card" data-static="1" href="bad/index.html">
        <button class="delBadge" type="button">üóëÔ∏è Delete</button>
        <img class="cover" src="bad/cover.jpg" alt="Bad">
        <div class="name">Bad</div>
      </a>

      <a class="card" data-static="1" href="Dangerous/index.html">
        <button class="delBadge" type="button">üóëÔ∏è Delete</button>
        <img class="cover" src="Dangerous/cover.jpg" alt="Dangerous">
        <div class="name">Dangerous</div>
      </a>

      <a class="card" data-static="1" href="History/index.html">
        <button class="delBadge" type="button">üóëÔ∏è Delete</button>
        <img class="cover" src="History/cover.jpg" alt="HIStory">
        <div class="name">HIStory</div>
      </a>

      <a class="card" data-static="1" href="Blood%20On%20The%20Dance%20Floor/index.html">
        <button class="delBadge" type="button">üóëÔ∏è Delete</button>
        <img class="cover" src="Blood%20On%20The%20Dance%20Floor/cover.jpg" alt="Blood On The Dance Floor">
        <div class="name">Blood On The Dance Floor</div>
      </a>

      <a class="card" data-static="1" href="Invincible/index.html">
        <button class="delBadge" type="button">üóëÔ∏è Delete</button>
        <img class="cover" src="Invincible/cover.jpg" alt="Invincible">
        <div class="name">Invincible</div>
      </a>

      <a class="card" data-static="1" href="This%20Is%20It/index.html">
        <button class="delBadge" type="button">üóëÔ∏è Delete</button>
        <img class="cover" src="This%20Is%20It/cover.jpg" alt="This Is It">
        <div class="name">This Is It</div>
      </a>

      <a class="card" data-static="1" href="Micheal2010/index.html">
        <button class="delBadge" type="button">üóëÔ∏è Delete</button>
        <img class="cover" src="Micheal2010/cover.jpg" alt="Michael (2010)">
        <div class="name">Michael (2010)</div>
      </a>

      <a class="card" data-static="1" href="Xscape/index.html">
        <button class="delBadge" type="button">üóëÔ∏è Delete</button>
        <img class="cover" src="Xscape/cover.jpg" alt="Xscape">
        <div class="name">Xscape</div>
      </a>

    </div>

    <div class="backHomeWrap">
      <a href="index.html" class="backHome">
        <span class="icon">üè†</span>
        <span>Back to Home</span>
      </a>
    </div>

  </main>
</div>

<div id="adminBar">
  <button id="uploadBtn" class="adminBtn" type="button">‚ûï Upload</button>
  <button id="exitAdminBtn" class="adminBtn secondary" type="button">‚úñ Exit</button>
</div>

<div id="uploadModal">
  <div class="modal-box">
    <h2>Upload New Album</h2>
    <input id="albumName" type="text" placeholder="Album Name" />
    <input id="albumCover" type="file" accept="image/*" />
    <input id="albumFolder" type="file" webkitdirectory multiple />

    <button class="save" id="saveBtn" type="button">Save album</button>
    <button class="cancel" id="cancelUploadBtn" type="button">Cancel</button>

    <div class="hint">
      <b>Note:</b> This adds the album to <u>this browser only</u> (localStorage).<br/>
      To publish for everyone, upload the album folder to your hosting.
    </div>
  </div>
</div>

<script>
  const albumsDiv   = document.querySelector('.albums');
  const adminBar    = document.getElementById('adminBar');
  const uploadModal = document.getElementById('uploadModal');

  const LS_ALBUMS        = 'mj_albums';
  const LS_HIDDEN_STATIC = 'mj_hidden_static';
  const LS_ADMIN_FLAG    = 'mj_admin';

  function getAlbums(){
    try { return JSON.parse(localStorage.getItem(LS_ALBUMS) || '[]'); }
    catch(e){ return []; }
  }
  function setAlbums(arr){ localStorage.setItem(LS_ALBUMS, JSON.stringify(arr)); }

  function getHiddenStatic(){
    try { return JSON.parse(localStorage.getItem(LS_HIDDEN_STATIC) || '[]'); }
    catch(e){ return []; }
  }
  function setHiddenStatic(arr){ localStorage.setItem(LS_HIDDEN_STATIC, JSON.stringify(arr)); }

  function enableAdmin(){
    document.body.classList.add('admin');
    adminBar.style.display = 'flex';
    localStorage.setItem(LS_ADMIN_FLAG, '1');
  }
  function disableAdmin(){
    document.body.classList.remove('admin');
    adminBar.style.display = 'none';
    localStorage.setItem(LS_ADMIN_FLAG, '0');
    closeUpload();
  }

  document.addEventListener('keydown', (e)=>{
    if(e.ctrlKey && e.shiftKey && e.key.toLowerCase()==='m'){
      const on = localStorage.getItem(LS_ADMIN_FLAG) === '1';
      if(on) disableAdmin(); else enableAdmin();
    }
  });

  if(localStorage.getItem(LS_ADMIN_FLAG) === '1'){ enableAdmin(); }

  document.getElementById('exitAdminBtn').onclick = disableAdmin;
  document.getElementById('uploadBtn').onclick = ()=> uploadModal.style.display='flex';

  function closeUpload(){
    uploadModal.style.display='none';
    document.getElementById('albumName').value = '';
    document.getElementById('albumCover').value = '';
    document.getElementById('albumFolder').value = '';
  }
  document.getElementById('cancelUploadBtn').onclick = closeUpload;

  function renderDynamicAlbum(a){
    const card = document.createElement('a');
    card.className = 'card';
    card.dataset.dynamic = '1';
    card.dataset.albumId = a.id;

    card.href = a.folder ? (a.folder.replace(/ /g, "%20") + '/index.html') : '#';

    const del = document.createElement('button');
    del.className = 'delBadge';
    del.type = 'button';
    del.textContent = 'üóëÔ∏è Delete';
    del.addEventListener('click', (ev)=>{
      ev.preventDefault();
      ev.stopPropagation();
      deleteDynamicAlbum(a.id, card);
    });
    card.appendChild(del);

    const img = document.createElement('img');
    img.className = 'cover';
    img.src = a.cover;
    img.alt = a.name;
    card.appendChild(img);

    const nm = document.createElement('div');
    nm.className = 'name';
    nm.textContent = a.name;
    card.appendChild(nm);

    albumsDiv.appendChild(card);
  }

  function saveAlbum(){
    const name = document.getElementById('albumName').value.trim();
    const coverFile = document.getElementById('albumCover').files[0];
    const folderFiles = document.getElementById('albumFolder').files;

    if(!name || !coverFile){
      alert('Please add Album Name + Cover Image');
      return;
    }

    let folderName = '';
    if(folderFiles && folderFiles.length){
      folderName = folderFiles[0].webkitRelativePath.split('/')[0];
    }

    const reader = new FileReader();
    reader.onload = ()=>{
      const album = { id:'a_'+Date.now(), name, cover:reader.result, folder:folderName };
      const albums = getAlbums();
      albums.push(album);
      setAlbums(albums);
      renderDynamicAlbum(album);
      closeUpload();
    };
    reader.readAsDataURL(coverFile);
  }
  document.getElementById('saveBtn').onclick = saveAlbum;

  function deleteDynamicAlbum(id, cardEl){
    if(!confirm('Delete this album?')) return;
    setAlbums(getAlbums().filter(x => x.id !== id));
    cardEl.remove();
  }

  function wireStaticDeletes(){
    const hidden = new Set(getHiddenStatic());
    document.querySelectorAll('.card[data-static="1"]').forEach(card=>{
      const href = card.getAttribute('href');
      if(hidden.has(href)){
        card.remove();
        return;
      }
      const btn = card.querySelector('.delBadge');
      if(!btn) return;
      btn.addEventListener('click', (ev)=>{
        ev.preventDefault();
        ev.stopPropagation();
        if(!confirm('Hide/Delete this static album from the page?')) return;
        const arr = getHiddenStatic();
        arr.push(href);
        setHiddenStatic(arr);
        card.remove();
      });
    });
  }

  getAlbums().forEach(renderDynamicAlbum);
  wireStaticDeletes();
</script>

</body>
</html>
